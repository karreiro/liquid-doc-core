<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>LiquidDoc parser</title>
</head>
<body>
    <h1>LiquidDoc parser</h1>
    <div id="status"></div>
    <div id="result"></div>

    <script type="module">
        import init, {
            add_numbers
        } from './pkg/wasm_liquiddoc_parser.js';

        async function run() {
            try {
                await init();
                document.getElementById('status').innerHTML = 'LiquidDoc WebAssembly module loaded successfully!';

                window.wasmFunctions = {
                    add_numbers
                };

                console.log('LiquidDoc WASM Parser ready!');
            } catch (error) {
                console.error('Error loading WASM module:', error);
                document.getElementById('status').innerHTML = 'Error loading WebAssembly module: ' + error.message;
            }
        }

        run();

        document.getElementById('result').innerHTML = window.wasmFunctions.add_numbers(2, 2);
    </script>
</body>
</html>
